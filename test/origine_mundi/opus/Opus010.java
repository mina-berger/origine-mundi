/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package origine_mundi.opus;

import java.io.File;
import la.clamor.Aestimatio;
import la.clamor.Functiones;
import la.clamor.io.FunctionesLimae;
import la.clamor.io.LectorLimam;
import la.clamor.Punctum;
import la.clamor.io.ScriptorWav;
import origine_mundi.deprec.ChorusDeprec;
import origine_mundi.OmUtil;

/**
 *
 * @author user
 */
public class Opus010 {
     public static void main(String[] args){
        File out_file = new File(OmUtil.getDirectory("opus"), "opus010.wav");
        File src_file = new File(OmUtil.getDirectory("opus"), "opus009.wav");
        
        File lima = new File(OmUtil.getDirectory("sample"), "opus010.lima");
        FunctionesLimae.facioLimam(src_file, lima, new Aestimatio(1), true, false);
            
        ScriptorWav sw = new ScriptorWav(out_file);
        sw.scribo(new ChorusDeprec(new LectorLimam(lima), new Punctum(0.5), new Punctum(3.5, -3.5), new Punctum(-1, 1), new Punctum(0.5, -0.5)), false);
        
        //sw.scribo(new LectorLimam(lima), false);
        Functiones.ludoLimam(out_file);
    }    
     public static void _main(String[] args){
        File wav_file = new File(OmUtil.getDirectory("sample"), "01d.wav");
        //File lima_m = new File(OmUtil.getDirectory("sample"), "01dm.lima");
        File lima = new File(OmUtil.getDirectory("sample"), "01d.lima");
        File out_file = new File(OmUtil.getDirectory("opus"), "opus009_t.wav");
        System.out.println(lima.getAbsolutePath());
        FunctionesLimae.facioLimam(wav_file, lima, new Aestimatio(1), true, false);
        ScriptorWav sw = new ScriptorWav(out_file);
        sw.scribo(new LectorLimam(lima), false);
 
        Functiones.ludoLimam(out_file);
        /*File lima_m = new File(OmUtil.getDirectory("sample"), "01dm.lima");
        File lima_w = new File(OmUtil.getDirectory("sample"), "01d.lima");
        LectorLimam llm = new LectorLimam(lima_m);
        LectorLimam llw = new LectorLimam(lima_w);
        int i = 0;
        boolean eofm = false;
        boolean eofw = false;
        while(true){
            Punctum m;
            if(llm.paratusSum()){
                m = llm.lego();
            }else{
                if(!eofm){
                    eofm = true;
                    System.out.println(i + ":m:eof");
                }
                m = new Punctum();
            }
            Punctum w;
            if(llw.paratusSum()){
                w = llw.lego();
            }else{
                if(!eofw){
                    eofw = true;
                    System.out.println(i + ":w:eof");
                }
                w = new Punctum();
            }
            if(!m.equals(w)){
                //System.out.println(i + ":" + m + ":" + w);
            }
            i++;
            if(eofm && eofw){
                break;
            }
            
        }*/
            
    }    
}
/*
0:9.155552842799158E-5,9.155552842799158E-5
1:6.103701895199438E-5,1.8311105685598315E-4
2:9.155552842799158E-5,2.1362956633198035E-4
3:3.051850947599719E-5,3.051850947599719E-5
4:6.103701895199438E-5,3.051850947599719E-5
5:1.2207403790398877E-4,9.155552842799158E-5
6:6.103701895199438E-5,9.155552842799158E-5
7:-6.103701895199438E-5,3.051850947599719E-5
8:-6.103701895199438E-5,-3.051850947599719E-5
9:0.0,6.103701895199438E-5
10:3.051850947599719E-5,1.8311105685598315E-4
11:-6.103701895199438E-5,2.4414807580797754E-4
12:0.0,1.2207403790398877E-4
13:6.103701895199438E-5,-6.103701895199438E-5
14:-3.051850947599719E-5,6.103701895199438E-5
15:0.0,1.2207403790398877E-4
16:1.2207403790398877E-4,0.0
17:0.0,3.051850947599719E-5
18:0.0,1.2207403790398877E-4
19:0.0,3.051850947599719E-5
20:6.103701895199438E-5,-3.051850947599719E-5
21:6.103701895199438E-5,0.0
22:0.0,3.051850947599719E-5
23:-3.051850947599719E-5,1.5259254737998596E-4
24:0.0,9.155552842799158E-5
25:9.155552842799158E-5,3.051850947599719E-5
26:3.051850947599719E-5,1.2207403790398877E-4
27:-1.2207403790398877E-4,1.2207403790398877E-4
28:6.103701895199438E-5,3.051850947599719E-5
29:1.5259254737998596E-4,-3.051850947599719E-5
30:0.0,-6.103701895199438E-5
31:-1.2207403790398877E-4,-9.155552842799158E-5
32:-9.155552842799158E-5,-9.155552842799158E-5
33:9.155552842799158E-5,6.103701895199438E-5
34:1.2207403790398877E-4,-3.051850947599719E-5
35:0.0,-9.155552842799158E-5
36:-3.051850947599719E-5,-1.5259254737998596E-4
37:-3.051850947599719E-5,-1.8311105685598315E-4
38:-9.155552842799158E-5,-9.155552842799158E-5
39:0.0,3.051850947599719E-5
40:9.155552842799158E-5,1.8311105685598315E-4
41:-3.051850947599719E-5,-9.155552842799158E-5
42:-6.103701895199438E-5,-2.7466658528397473E-4
43:-3.051850947599719E-5,3.051850947599719E-5
44:-1.5259254737998596E-4,6.103701895199438E-5
45:-1.2207403790398877E-4,-3.051850947599719E-5
46:-6.103701895199438E-5,-6.103701895199438E-5
47:-6.103701895199438E-5,3.051850947599719E-5
48:6.103701895199438E-5,6.103701895199438E-5
49:6.103701895199438E-5,-9.155552842799158E-5
50:-6.103701895199438E-5,-9.155552842799158E-5
51:-6.103701895199438E-5,6.103701895199438E-5
52:0.0,0.0
53:6.103701895199438E-5,-3.051850947599719E-5
54:-3.051850947599719E-5,-3.051850947599719E-5
55:-9.155552842799158E-5,3.051850947599719E-5
56:-3.051850947599719E-5,-6.103701895199438E-5
57:6.103701895199438E-5,-2.1362956633198035E-4
58:-6.103701895199438E-5,-3.051850947599719E-4
59:-1.5259254737998596E-4,-2.1362956633198035E-4
60:-1.2207403790398877E-4,-3.051850947599719E-5
61:0.0,6.103701895199438E-5
62:-3.051850947599719E-5,-6.103701895199438E-5
63:-3.051850947599719E-5,-2.4414807580797754E-4
64:-1.2207403790398877E-4,-1.5259254737998596E-4
65:-9.155552842799158E-5,0.0
66:0.0,0.0
67:3.051850947599719E-5,3.051850947599719E-5
68:-6.103701895199438E-5,-3.051850947599719E-5
69:-1.2207403790398877E-4,-6.103701895199438E-5
70:-3.051850947599719E-5,0.0
71:1.2207403790398877E-4,0.0
72:0.0,-9.155552842799158E-5
73:-9.155552842799158E-5,-2.4414807580797754E-4
74:3.051850947599719E-5,-1.8311105685598315E-4
75:9.155552842799158E-5,-9.155552842799158E-5
76:1.2207403790398877E-4,-9.155552842799158E-5
77:0.0,-1.5259254737998596E-4
78:-9.155552842799158E-5,-2.4414807580797754E-4
79:-1.5259254737998596E-4,-1.5259254737998596E-4
80:-1.8311105685598315E-4,-6.103701895199438E-5
81:-6.103701895199438E-5,-9.155552842799158E-5
82:3.051850947599719E-5,-6.103701895199438E-5
83:0.0,-1.5259254737998596E-4
84:-6.103701895199438E-5,-1.2207403790398877E-4
85:-3.051850947599719E-5,3.051850947599719E-5
86:0.0,-6.103701895199438E-5
87:-1.2207403790398877E-4,-2.7466658528397473E-4
88:-9.155552842799158E-5,-3.051850947599719E-4
89:3.051850947599719E-5,-1.2207403790398877E-4
90:-6.103701895199438E-5,-6.103701895199438E-5
91:-1.5259254737998596E-4,-1.8311105685598315E-4
92:-9.155552842799158E-5,-9.155552842799158E-5
93:-9.155552842799158E-5,-9.155552842799158E-5
94:-9.155552842799158E-5,-1.2207403790398877E-4
95:-1.8311105685598315E-4,-6.103701895199438E-5
96:-1.8311105685598315E-4,0.0
97:-6.103701895199438E-5,-3.051850947599719E-5
98:-9.155552842799158E-5,-1.2207403790398877E-4
99:-1.8311105685598315E-4,-1.8311105685598315E-4

*/